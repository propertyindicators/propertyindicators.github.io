/*! PILab 18-04-2021 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ParamsModel=function(){function a(a,b){this.square=0,this.placement=0,this.buildtype_mb=0,this.buildtype_otb=0,this.is_residential_fund=!1,this.tv=0,this.placement_index=0,this.buildtype_mb_index=0,this.buildtype_otb_index=0,this.entry_type_index=0,this.entry_placement_index=0,this.square_is=!1,this.square_str="",this.square_err="",this.placement_is=!1,this.buildtype_mb_is=!1,this.buildtype_otb_is=!1,this.entry_type_is=!1,this.entry_placement_is=!1,this.state_is=!1,this.remStateInfo=b,this.placement_dict=a.placement_dict,this.buildtype_mb_dict=a.buildtype_mb_dict,this.buildtype_otb_dict=a.buildtype_otb_dict,this.entry_type_dict=a.entry_type_dict,this.entry_placement_dict=a.entry_placement_dict,this.tradevalue_features=a.tradevalue_features,this.res_fund_ui=a.res_fund_ui}return a.prototype.change_sqr=function(a){this.square_str=a,this.validateSquare()},a.prototype.change_placement=function(a){this.placement_is=!0,this.placement_index=a,this.placement=this.placement_dict[a][1],this.recalculate_tv()},a.prototype.change_buildtype_mb=function(a){this.buildtype_mb_is=!0,this.buildtype_mb_index=a,this.buildtype_mb=this.buildtype_mb_dict[a][1]},a.prototype.change_buildtype_otb=function(a){this.buildtype_otb_is=!0,this.buildtype_otb_index=a,this.buildtype_otb=this.buildtype_otb_dict[a][1]},a.prototype.change_entry_type=function(a){this.entry_type_is=!0,this.entry_type_index=a,this.recalculate_tv()},a.prototype.change_entry_placement=function(a){this.entry_placement_is=!0,this.entry_placement_index=a,this.recalculate_tv()},a.prototype.recalculate_tv=function(){var a=0;3!=this.entry_placement_index&&0!=this.entry_placement_index&&(1===this.entry_type_index?a=1.5:2===this.entry_type_index&&(a=1),3===this.placement_index?a/=1.5:4===this.placement_index&&(a/=2),2===this.entry_placement_index&&(a/=2)),this.tradevalue_features[1][1]?a+=this.tradevalue_features[1][2]:this.tradevalue_features[2][1]&&(a+=this.tradevalue_features[2][2]),this.tv=a},a.prototype.validateSquare=function(){/^(\-|\+)?([0-9]+(\.[0-9]+)?|Infinity)$/.test(this.square_str)?(this.square=Number(this.square_str),this.square<1||this.square>1e4?(this.square_is=!1,this.square_err="Площадь помещения должна быть в диапазоне 1 - 10 000 кв.м"):(this.square_is=!0,this.square_err="")):(this.square=0,this.square_is=!1,""===this.square_str?this.square_err="":this.square_err="*значение площади не является числовым")},a.prototype.allRequiredAssigned=function(){return this.square_is&&this.placement_is&&this.buildtype_mb_is&&this.buildtype_otb_is&&this.entry_type_is&&this.entry_placement_is&&this.state_is},a.prototype.CreateParamsChoiceForCosmo=function(){var a=[];for(var b in this.tradevalue_features)this.tradevalue_features[b][1]&&a.push(Number(b));var c=[];for(var b in this.remStateInfo.addelements_dict)this.remStateInfo.addelements_dict[b][1]&&c.push(Number(b));return[this.placement_index,this.buildtype_mb_index,this.buildtype_otb_index,this.entry_type_index,this.entry_placement_index,a,this.remStateInfo.remclass_index,this.remStateInfo.devaluation_index,this.remStateInfo.avail_index,c]},a.prototype.CreateParamsCoefsForCosmo=function(){return[this.square,this.placement,this.buildtype_mb,this.buildtype_otb,this.tv,this.is_residential_fund?1:0,this.state]},a}();exports.ParamsModel=ParamsModel;