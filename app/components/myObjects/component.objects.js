/*! PILab 02-02-2022 */

"use strict";var __decorate=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},__metadata=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),store_1=require("@ngrx/store"),actions_1=require("./store/actions"),MyObjectsComponent=function(){function a(a){this.store=a,this.objRows$=this.store.select(function(a){return a.ObjectListState.ObjRows}),this.isListEmpty$=this.store.select(function(a){return a.ObjectListState.IsObjListEmpty}),this.selectedPremises$=this.store.select(function(a){return a.ObjectListState.SelectedObjIndex}),this.selectedPremises=-1}return a.prototype.ngOnInit=function(){var a=this;this.onDeletionLocked=this.store.select(function(a){return a.ObjectListState.IsDeletingAction}).subscribe(function(b){return a.isDelitionLocked=b}),this.store.dispatch(new actions_1.GetObjRows)},a.prototype.ngOnDestroy=function(){this.onDeletionLocked.unsubscribe()},a.prototype.onSelected=function(a){this.isDelitionLocked||this.store.dispatch(new actions_1.SelectObject(a.index))},a.prototype.onDelete=function(a){this.isDelitionLocked||confirm("Вы действительно хотите удалить помещение из списка отслеживаемых объектов: "+a.description+" ?")&&this.store.dispatch(new actions_1.DeleteObject(a.index))},a=__decorate([core_1.Component({selector:"comp-objects",moduleId:module.id,templateUrl:"component.objects.html",styleUrls:["module.styles.css"]}),__metadata("design:paramtypes",[store_1.Store])],a)}();exports.MyObjectsComponent=MyObjectsComponent;