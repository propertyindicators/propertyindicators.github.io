/*! PILab 02-02-2022 */

"use strict";var regexpFlags=require("./_flags"),nativeExec=RegExp.prototype.exec,nativeReplace=String.prototype.replace,patchedExec=nativeExec,LAST_INDEX="lastIndex",UPDATES_LAST_INDEX_WRONG=function(){var a=/a/,b=/b*/g;return nativeExec.call(a,"a"),nativeExec.call(b,"a"),0!==a[LAST_INDEX]||0!==b[LAST_INDEX]}(),NPCG_INCLUDED=void 0!==/()??/.exec("")[1],PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED;PATCH&&(patchedExec=function(a){var b,c,d,e,f=this;return NPCG_INCLUDED&&(c=new RegExp("^"+f.source+"$(?!\\s)",regexpFlags.call(f))),UPDATES_LAST_INDEX_WRONG&&(b=f[LAST_INDEX]),d=nativeExec.call(f,a),UPDATES_LAST_INDEX_WRONG&&d&&(f[LAST_INDEX]=f.global?d.index+d[0].length:b),NPCG_INCLUDED&&d&&d.length>1&&nativeReplace.call(d[0],c,function(){for(e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(d[e]=void 0)}),d}),module.exports=patchedExec;