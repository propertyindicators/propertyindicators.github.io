/*! PILab 24-01-2021 (c) 2021 propertyindicators@gmail.com */

require("./_fix-re-wks")("split",2,function(a,b,c){"use strict";var d=require("./_is-regexp"),e=c,f=[].push,g="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[g]||2!="ab".split(/(?:ab)*/)[g]||4!=".".split(/(.?)(.?)/)[g]||".".split(/()()/)[g]>1||"".split(/.?/)[g]){var h=void 0===/()??/.exec("")[1];c=function(a,b){var c=String(this);if(void 0===a&&0===b)return[];if(!d(a))return e.call(c,a,b);var i,j,k,l,m,n=[],o=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),p=0,q=void 0===b?4294967295:b>>>0,r=new RegExp(a.source,o+"g");for(h||(i=new RegExp("^"+r.source+"$(?!\\s)",o));(j=r.exec(c))&&!((k=j.index+j[0][g])>p&&(n.push(c.slice(p,j.index)),!h&&j[g]>1&&j[0].replace(i,function(){for(m=1;m<arguments[g]-2;m++)void 0===arguments[m]&&(j[m]=void 0)}),j[g]>1&&j.index<c[g]&&f.apply(n,j.slice(1)),l=j[0][g],p=k,n[g]>=q));)r.lastIndex===j.index&&r.lastIndex++;return p===c[g]?!l&&r.test("")||n.push(""):n.push(c.slice(p)),n[g]>q?n.slice(0,q):n}}else"0".split(void 0,0)[g]&&(c=function(a,b){return void 0===a&&0===b?[]:e.call(this,a,b)});return[function(d,e){var f=a(this),g=void 0==d?void 0:d[b];return void 0!==g?g.call(d,f,e):c.call(String(f),d,e)},c]});