/*! PILab 18-07-2021 */

var META=require("./_uid")("meta"),isObject=require("./_is-object"),has=require("./_has"),setDesc=require("./_object-dp").f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!require("./_fails")(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(a){setDesc(a,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(a,b){if(!isObject(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!has(a,META)){if(!isExtensible(a))return"F";if(!b)return"E";setMeta(a)}return a[META].i},getWeak=function(a,b){if(!has(a,META)){if(!isExtensible(a))return!0;if(!b)return!1;setMeta(a)}return a[META].w},onFreeze=function(a){return FREEZE&&meta.NEED&&isExtensible(a)&&!has(a,META)&&setMeta(a),a},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze};