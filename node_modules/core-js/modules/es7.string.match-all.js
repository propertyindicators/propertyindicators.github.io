/*! PILab 24-01-2021 (c) 2021 propertyindicators@gmail.com */

"use strict";var $export=require("./_export"),defined=require("./_defined"),toLength=require("./_to-length"),isRegExp=require("./_is-regexp"),getFlags=require("./_flags"),RegExpProto=RegExp.prototype,$RegExpStringIterator=function(a,b){this._r=a,this._s=b};require("./_iter-create")($RegExpStringIterator,"RegExp String",function(){var a=this._r.exec(this._s);return{value:a,done:null===a}}),$export($export.P,"String",{matchAll:function(a){if(defined(this),!isRegExp(a))throw TypeError(a+" is not a regexp!");var b=String(this),c="flags"in RegExpProto?String(a.flags):getFlags.call(a),d=new RegExp(a.source,~c.indexOf("g")?c:"g"+c);return d.lastIndex=toLength(a.lastIndex),new $RegExpStringIterator(d,b)}});