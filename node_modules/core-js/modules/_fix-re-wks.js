/*! PILab 02-02-2022 */

"use strict";require("./es6.regexp.exec");var redefine=require("./_redefine"),hide=require("./_hide"),fails=require("./_fails"),defined=require("./_defined"),wks=require("./_wks"),regexpExec=require("./_regexp-exec"),SPECIES=wks("species"),REPLACE_SUPPORTS_NAMED_GROUPS=!fails(function(){var a=/./;return a.exec=function(){var a=[];return a.groups={a:"7"},a},"7"!=="".replace(a,"$<a>")}),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=function(){var a=/(?:)/,b=a.exec;a.exec=function(){return b.apply(this,arguments)};var c="ab".split(a);return 2===c.length&&"a"===c[0]&&"b"===c[1]}();module.exports=function(a,b,c){var d=wks(a),e=!fails(function(){var b={};return b[d]=function(){return 7},7!=""[a](b)}),f=e?!fails(function(){var b=!1,c=/a/;return c.exec=function(){return b=!0,null},"split"===a&&(c.constructor={},c.constructor[SPECIES]=function(){return c}),c[d](""),!b}):void 0;if(!e||!f||"replace"===a&&!REPLACE_SUPPORTS_NAMED_GROUPS||"split"===a&&!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC){var g=/./[d],h=c(defined,d,""[a],function(a,b,c,d,f){return b.exec===regexpExec?e&&!f?{done:!0,value:g.call(b,c,d)}:{done:!0,value:a.call(c,b,d)}:{done:!1}}),i=h[0],j=h[1];redefine(String.prototype,a,i),hide(RegExp.prototype,d,2==b?function(a,b){return j.call(a,this,b)}:function(a){return j.call(a,this)})}};