/*! PILab 18-04-2021 */

"use strict";var $export=require("./_export"),toInteger=require("./_to-integer"),aNumberValue=require("./_a-number-value"),repeat=require("./_string-repeat"),$toFixed=1..toFixed,floor=Math.floor,data=[0,0,0,0,0,0],ERROR="Number.toFixed: incorrect invocation!",ZERO="0",multiply=function(a,b){for(var c=-1,d=b;++c<6;)d+=a*data[c],data[c]=d%1e7,d=floor(d/1e7)},divide=function(a){for(var b=6,c=0;--b>=0;)c+=data[b],data[b]=floor(c/a),c=c%a*1e7},numToString=function(){for(var a=6,b="";--a>=0;)if(""!==b||0===a||0!==data[a]){var c=String(data[a]);b=""===b?c:b+repeat.call(ZERO,7-c.length)+c}return b},pow=function(a,b,c){return 0===b?c:b%2==1?pow(a,b-1,c*a):pow(a*a,b/2,c)},log=function(a){for(var b=0,c=a;c>=4096;)b+=12,c/=4096;for(;c>=2;)b+=1,c/=2;return b};$export($export.P+$export.F*(!!$toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!require("./_fails")(function(){$toFixed.call({})})),"Number",{toFixed:function(a){var b,c,d,e,f=aNumberValue(this,ERROR),g=toInteger(a),h="",i=ZERO;if(g<0||g>20)throw RangeError(ERROR);if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(h="-",f=-f),f>1e-21)if(b=log(f*pow(2,69,1))-69,c=b<0?f*pow(2,-b,1):f/pow(2,b,1),c*=4503599627370496,(b=52-b)>0){for(multiply(0,c),d=g;d>=7;)multiply(1e7,0),d-=7;for(multiply(pow(10,d,1),0),d=b-1;d>=23;)divide(1<<23),d-=23;divide(1<<d),multiply(1,1),divide(2),i=numToString()}else multiply(0,c),multiply(1<<-b,0),i=numToString()+repeat.call(ZERO,g);return g>0?(e=i.length,i=h+(e<=g?"0."+repeat.call(ZERO,g-e)+i:i.slice(0,e-g)+"."+i.slice(e-g))):i=h+i,i}});