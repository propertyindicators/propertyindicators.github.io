/*! PILab 09-05-2017 (c) 2017 propertyindicators@gmail.com */

function DrawWithCurrencyC(){var a=$(this).attr("id"),b=a.substring(7,8);"d"===b&&(gdataC_work=gdataC_D,goptionsC.vAxis.format="$#"),"h"===b&&(gdataC_work=gdataC_H,goptionsC.vAxis.format="₴#"),"e"===b&&(gdataC_work=gdataC_E,goptionsC.vAxis.format="€#"),drawChartC()}function DrawWithCurrencyO(){var a=$(this).attr("id"),b=a.substring(7,8);"d"===b&&(gdataO_work=gdataO_D,goptionsO.vAxis.format="$#"),"h"===b&&(gdataO_work=gdataO_H,goptionsO.vAxis.format="₴#"),"e"===b&&(gdataO_work=gdataO_E,goptionsO.vAxis.format="€#"),drawChartO()}function DrawWithCurrencyT(){var a=$(this).attr("id"),b=a.substring(7,8);"d"===b&&(gdataT_work=gdataT_D,goptionsT.vAxis.format="$#"),"h"===b&&(gdataT_work=gdataT_H,goptionsT.vAxis.format="₴#"),"e"===b&&(gdataT_work=gdataT_E,goptionsT.vAxis.format="€#"),drawChartT()}function DrawWithCurrencyB(){var a=$(this).attr("id"),b=a.substring(7,8);"d"===b&&(gdataB_work=gdataB_D,goptionsB.vAxis.format="$#"),"h"===b&&(gdataB_work=gdataB_H,goptionsB.vAxis.format="₴#"),"e"===b&&(gdataB_work=gdataB_E,goptionsB.vAxis.format="€#"),drawChartB()}function initialize_data(){var a="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent("SELECT MAXIMUM(RegDate) FROM 1oCrIof0mdyzEHlwmn-IY7kcbKzp-cyK0H8gUeKHf");new google.visualization.Query(a).send(function(a){if(a.isError())return void alert("Error in query of maxdate determination: "+a.getMessage()+" "+a.getDetailedMessage());var b=a.getDataTable(),c=b.qg[0].c[0].v,d=new Date(c);d.setMonth(-1),strdatemax="'"+c.getFullYear()+"-"+String(c.getMonth()+1).replace(/^(.)$/,"0$1")+"-"+String(c.getDate()).replace(/^(.)$/,"0$1")+"'",strdatemin="'"+d.getFullYear()+"-"+String(d.getMonth()+1).replace(/^(.)$/,"0$1")+"-"+String(d.getDate()).replace(/^(.)$/,"0$1")+"'",google.charts.setOnLoadCallback(initialize1),google.charts.setOnLoadCallback(initialize2),google.charts.setOnLoadCallback(initialize3),google.charts.setOnLoadCallback(initialize4)})}function initialize1(){var a="1oCrIof0mdyzEHlwmn-IY7kcbKzp-cyK0H8gUeKHf",b="SELECT RegDate, T_K, T_C, T_NC, T_EV, T_P, O_K, O_C, O_NC, O_EV, O_P FROM "+a+" WHERE RegDate>="+strdatemin+" AND RegDate<="+strdatemax,c="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent(b),d=new google.visualization.Query(c);d.send(function(a){if(a.isError())return void alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());for(var b=a.getDataTable(),c=[0,0,0,0,0,0,0,0,0,0],d=0;d<10;d++)b.qg.forEach(function(a,b,e){c[d]=c[d]+a.c[d+1].v}),c[d]=c[d]/b.qg.length;gdataC_D=google.visualization.arrayToDataTable([["Зона","Торговые",{role:"style"},"Офисы",{role:"style"}],["Киев",c[0],"#8B0000",c[5],"#FF0000"],["Центр",c[1],"#9932CC",c[6],"#808000"],["Близко к центру",c[2],"#9932CC",c[7],"#808000"],["Середина",c[3],"#9932CC",c[8],"#808000"],["Периферия",c[4],"#9932CC",c[9],"#808000"]]),goptionsC={title:name1,vAxis:{minValue:0,format:"$#"},legend:{position:"bottom"},colors:["#9932CC","#808000"],animation:{duration:1e3,easing:"linear",startup:!0},chartArea:{left:"7%",width:"90%"}},gdataC_work=gdataC_D,gchartC=new google.visualization.ColumnChart(document.getElementById("chart_div1")),drawChartC()}),a="13V8DPbHPaknuBlK_hoijI0BkHAhEiTWkxhXS4NxV",b="SELECT RegDate, T_K, T_C, T_NC, T_EV, T_P, O_K, O_C, O_NC, O_EV, O_P FROM "+a+" WHERE RegDate>="+strdatemin+" AND RegDate<="+strdatemax,c="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent(b),d=new google.visualization.Query(c),d.send(function(a){if(a.isError())return void alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());for(var b=a.getDataTable(),c=[0,0,0,0,0,0,0,0,0,0],d=0;d<10;d++)b.qg.forEach(function(a,b,e){c[d]=c[d]+a.c[d+1].v}),c[d]=c[d]/b.qg.length;gdataC_E=google.visualization.arrayToDataTable([["Зона","Торговые",{role:"style"},"Офисы",{role:"style"}],["Киев",c[0],"#8B0000",c[5],"#FF0000"],["Центр",c[1],"#9932CC",c[6],"#808000"],["Близко к центру",c[2],"#9932CC",c[7],"#808000"],["Середина",c[3],"#9932CC",c[8],"#808000"],["Периферия",c[4],"#9932CC",c[9],"#808000"]])}),a="1cBVIRaypPwiz5Gmr850cX3uMAjPTqy5VzxZqhZd2",b="SELECT RegDate, T_K, T_C, T_NC, T_EV, T_P, O_K, O_C, O_NC, O_EV, O_P FROM "+a+" WHERE RegDate>="+strdatemin+" AND RegDate<="+strdatemax,c="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent(b),d=new google.visualization.Query(c),d.send(function(a){if(a.isError())return void alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());for(var b=a.getDataTable(),c=[0,0,0,0,0,0,0,0,0,0],d=0;d<10;d++)b.qg.forEach(function(a,b,e){c[d]=c[d]+a.c[d+1].v}),c[d]=c[d]/b.qg.length;gdataC_H=google.visualization.arrayToDataTable([["Зона","Торговые",{role:"style"},"Офисы",{role:"style"}],["Киев",c[0],"#8B0000",c[5],"#FF0000"],["Центр",c[1],"#9932CC",c[6],"#808000"],["Близко к центру",c[2],"#9932CC",c[7],"#808000"],["Середина",c[3],"#9932CC",c[8],"#808000"],["Периферия",c[4],"#9932CC",c[9],"#808000"]])})}function drawChartC(){gchartC.draw(gdataC_work,goptionsC)}function initialize2(){var a="1oCrIof0mdyzEHlwmn-IY7kcbKzp-cyK0H8gUeKHf",b="SELECT RegDate, OP_K, OP_C, OP_NC, OP_EV, OP_P, O_K, O_C, O_NC, O_EV, O_P FROM "+a+" WHERE RegDate>="+strdatemin+" AND RegDate<="+strdatemax,c="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent(b),d=new google.visualization.Query(c);d.send(function(a){if(a.isError())return void alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());for(var b=a.getDataTable(),c=[0,0,0,0,0,0,0,0,0,0],d=0;d<10;d++)b.qg.forEach(function(a,b,e){c[d]=c[d]+a.c[d+1].v}),c[d]=c[d]/b.qg.length;gdataO_D=google.visualization.arrayToDataTable([["Зона","Профессиональные офисы",{role:"style"},"Офисы",{role:"style"}],["Киев",c[0],"#8B0000",c[5],"#FF0000"],["Центр",c[1],"#006400",c[6],"#808000"],["Близко к центру",c[2],"#006400",c[7],"#808000"],["Середина",c[3],"#006400",c[8],"#808000"],["Периферия",c[4],"#006400",c[9],"#808000"]]),goptionsO={title:name2,vAxis:{minValue:0,format:"$#"},legend:{position:"bottom"},colors:["#006400","#808000"],animation:{duration:1e3,easing:"linear",startup:!0},chartArea:{left:"7%",width:"90%"}},gdataO_work=gdataO_D,gchartO=new google.visualization.ColumnChart(document.getElementById("chart_div2")),drawChartO()}),a="13V8DPbHPaknuBlK_hoijI0BkHAhEiTWkxhXS4NxV",b="SELECT RegDate, OP_K, OP_C, OP_NC, OP_EV, OP_P, O_K, O_C, O_NC, O_EV, O_P FROM "+a+" WHERE RegDate>="+strdatemin+" AND RegDate<="+strdatemax,c="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent(b),d=new google.visualization.Query(c),d.send(function(a){if(a.isError())return void alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());for(var b=a.getDataTable(),c=[0,0,0,0,0,0,0,0,0,0],d=0;d<10;d++)b.qg.forEach(function(a,b,e){c[d]=c[d]+a.c[d+1].v}),c[d]=c[d]/b.qg.length;gdataO_E=google.visualization.arrayToDataTable([["Зона","Профессиональные офисы",{role:"style"},"Офисы",{role:"style"}],["Киев",c[0],"#8B0000",c[5],"#FF0000"],["Центр",c[1],"#006400",c[6],"#808000"],["Близко к центру",c[2],"#006400",c[7],"#808000"],["Середина",c[3],"#006400",c[8],"#808000"],["Периферия",c[4],"#006400",c[9],"#808000"]])}),a="1cBVIRaypPwiz5Gmr850cX3uMAjPTqy5VzxZqhZd2",b="SELECT RegDate, OP_K, OP_C, OP_NC, OP_EV, OP_P, O_K, O_C, O_NC, O_EV, O_P FROM "+a+" WHERE RegDate>="+strdatemin+" AND RegDate<="+strdatemax,c="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent(b),d=new google.visualization.Query(c),d.send(function(a){if(a.isError())return void alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());for(var b=a.getDataTable(),c=[0,0,0,0,0,0,0,0,0,0],d=0;d<10;d++)b.qg.forEach(function(a,b,e){c[d]=c[d]+a.c[d+1].v}),c[d]=c[d]/b.qg.length;gdataO_H=google.visualization.arrayToDataTable([["Зона","Профессиональные офисы",{role:"style"},"Офисы",{role:"style"}],["Киев",c[0],"#8B0000",c[5],"#FF0000"],["Центр",c[1],"#006400",c[6],"#808000"],["Близко к центру",c[2],"#006400",c[7],"#808000"],["Середина",c[3],"#006400",c[8],"#808000"],["Периферия",c[4],"#006400",c[9],"#808000"]])})}function drawChartO(){gchartO.draw(gdataO_work,goptionsO)}function initialize3(){var a="1oCrIof0mdyzEHlwmn-IY7kcbKzp-cyK0H8gUeKHf",b="SELECT RegDate, TP_K, TP_C, TP_NC, TP_EV, TP_P, T_K, T_C, T_NC, T_EV, T_P FROM "+a+" WHERE RegDate>="+strdatemin+" AND RegDate<="+strdatemax,c="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent(b),d=new google.visualization.Query(c);d.send(function(a){if(a.isError())return void alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());for(var b=a.getDataTable(),c=[0,0,0,0,0,0,0,0,0,0],d=0;d<10;d++)b.qg.forEach(function(a,b,e){c[d]=c[d]+a.c[d+1].v}),c[d]=c[d]/b.qg.length;gdataT_D=google.visualization.arrayToDataTable([["Зона","Профессиональные торговые",{role:"style"},"Торговые",{role:"style"}],["Киев",c[0],"#8B0000",c[5],"#FF0000"],["Центр",c[1],"#800080\t",c[6],"#9932CC"],["Близко к центру",c[2],"#800080",c[7],"#9932CC"],["Середина",c[3],"#800080",c[8],"#9932CC"],["Периферия",c[4],"#800080",c[9],"#9932CC"]]),goptionsT={title:name3,vAxis:{minValue:0,format:"$#"},legend:{position:"bottom"},colors:["#800080","#9932CC"],animation:{duration:1e3,easing:"linear",startup:!0},chartArea:{left:"7%",width:"90%"}},gdataT_work=gdataT_D,gchartT=new google.visualization.ColumnChart(document.getElementById("chart_div3")),drawChartT()}),a="13V8DPbHPaknuBlK_hoijI0BkHAhEiTWkxhXS4NxV",b="SELECT RegDate, TP_K, TP_C, TP_NC, TP_EV, TP_P, T_K, T_C, T_NC, T_EV, T_P FROM "+a+" WHERE RegDate>="+strdatemin+" AND RegDate<="+strdatemax,c="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent(b),d=new google.visualization.Query(c),d.send(function(a){if(a.isError())return void alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());for(var b=a.getDataTable(),c=[0,0,0,0,0,0,0,0,0,0],d=0;d<10;d++)b.qg.forEach(function(a,b,e){c[d]=c[d]+a.c[d+1].v}),c[d]=c[d]/b.qg.length;gdataT_E=google.visualization.arrayToDataTable([["Зона","Профессиональные торговые",{role:"style"},"Торговые",{role:"style"}],["Киев",c[0],"#8B0000",c[5],"#FF0000"],["Центр",c[1],"#800080\t",c[6],"#9932CC"],["Близко к центру",c[2],"#800080",c[7],"#9932CC"],["Середина",c[3],"#800080",c[8],"#9932CC"],["Периферия",c[4],"#800080",c[9],"#9932CC"]])}),a="1cBVIRaypPwiz5Gmr850cX3uMAjPTqy5VzxZqhZd2",b="SELECT RegDate, TP_K, TP_C, TP_NC, TP_EV, TP_P, T_K, T_C, T_NC, T_EV, T_P FROM "+a+" WHERE RegDate>="+strdatemin+" AND RegDate<="+strdatemax,c="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent(b),d=new google.visualization.Query(c),d.send(function(a){if(a.isError())return void alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());for(var b=a.getDataTable(),c=[0,0,0,0,0,0,0,0,0,0],d=0;d<10;d++)b.qg.forEach(function(a,b,e){c[d]=c[d]+a.c[d+1].v}),c[d]=c[d]/b.qg.length;gdataT_H=google.visualization.arrayToDataTable([["Зона","Профессиональные торговые",{role:"style"},"Торговые",{role:"style"}],["Киев",c[0],"#8B0000",c[5],"#FF0000"],["Центр",c[1],"#800080\t",c[6],"#9932CC"],["Близко к центру",c[2],"#800080",c[7],"#9932CC"],["Середина",c[3],"#800080",c[8],"#9932CC"],["Периферия",c[4],"#800080",c[9],"#9932CC"]])})}function drawChartT(){gchartT.draw(gdataT_work,goptionsT)}function initialize4(){var a="1oCrIof0mdyzEHlwmn-IY7kcbKzp-cyK0H8gUeKHf",b="SELECT RegDate, B_K, B_C, B_NC, B_EV, B_P FROM "+a+" WHERE RegDate>="+strdatemin+" AND RegDate<="+strdatemax,c="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent(b),d=new google.visualization.Query(c);d.send(function(a){if(a.isError())return void alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());for(var b=a.getDataTable(),c=[0,0,0,0,0,0,0,0,0,0],d=0;d<5;d++)b.qg.forEach(function(a,b,e){c[d]=c[d]+a.c[d+1].v}),c[d]=c[d]/b.qg.length;gdataB_D=google.visualization.arrayToDataTable([["Зона","Подвалы",{role:"style"}],["Киев",c[0],"#8B0000"],["Центр",c[1],"#D2691E"],["Близко к центру",c[2],"#D2691E"],["Середина",c[3],"#D2691E"],["Периферия",c[4],"#D2691E"]]),goptionsB={title:name4,vAxis:{minValue:0,format:"$#"},legend:{position:"bottom"},colors:["#D2691E"],animation:{duration:1e3,easing:"linear",startup:!0},chartArea:{left:"7%",width:"90%"}},gdataB_work=gdataB_D,gchartB=new google.visualization.ColumnChart(document.getElementById("chart_div4")),drawChartB()}),a="13V8DPbHPaknuBlK_hoijI0BkHAhEiTWkxhXS4NxV",b="SELECT RegDate, B_K, B_C, B_NC, B_EV, B_P FROM "+a+" WHERE RegDate>="+strdatemin+" AND RegDate<="+strdatemax,c="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent(b),d=new google.visualization.Query(c),d.send(function(a){if(a.isError())return void alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());for(var b=a.getDataTable(),c=[0,0,0,0,0,0,0,0,0,0],d=0;d<5;d++)b.qg.forEach(function(a,b,e){c[d]=c[d]+a.c[d+1].v}),c[d]=c[d]/b.qg.length;gdataB_E=google.visualization.arrayToDataTable([["Зона","Подвалы",{role:"style"}],["Киев",c[0],"#8B0000"],["Центр",c[1],"#D2691E"],["Близко к центру",c[2],"#D2691E"],["Середина",c[3],"#D2691E"],["Периферия",c[4],"#D2691E"]])}),a="1cBVIRaypPwiz5Gmr850cX3uMAjPTqy5VzxZqhZd2",b="SELECT RegDate, B_K, B_C, B_NC, B_EV, B_P FROM "+a+" WHERE RegDate>="+strdatemin+" AND RegDate<="+strdatemax,c="https://www.google.com/fusiontables/gvizdata?tq="+encodeURIComponent(b),d=new google.visualization.Query(c),d.send(function(a){if(a.isError())return void alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());for(var b=a.getDataTable(),c=[0,0,0,0,0,0,0,0,0,0],d=0;d<5;d++)b.qg.forEach(function(a,b,e){c[d]=c[d]+a.c[d+1].v}),c[d]=c[d]/b.qg.length;gdataB_H=google.visualization.arrayToDataTable([["Зона","Подвалы",{role:"style"}],["Киев",c[0],"#8B0000"],["Центр",c[1],"#D2691E"],["Близко к центру",c[2],"#D2691E"],["Середина",c[3],"#D2691E"],["Периферия",c[4],"#D2691E"]])})}function drawChartB(){gchartB.draw(gdataB_work,goptionsB)}google.charts.load("visualization","1",{packages:["corechart"]});var gdataC_D={},gdataC_H={},gdataC_E={},gdataC_work={},goptionsC={},gchartC={},gdataO_D={},gdataO_H={},gdataO_E={},gdataO_work={},goptionsO={},gchartO={},gdataT_D={},gdataT_H={},gdataT_E={},gdataT_work={},goptionsT={},gchartT={},gdataB_D={},gdataB_H={},gdataB_E={},gdataB_work={},goptionsB={},gchartB={},strdatemin="",strdatemax="",name1="Текущие цены продажи нежилых помещений на вторичном рынке г. Киева (за 1 кв.м)",name2="Текущие цены продажи офисных помещений на вторичном рынке г. Киева (за 1 кв.м)",name3="Текущие цены продажи торговых помещений на вторичном рынке г. Киева (за 1 кв.м)",name4="Текущие цены продажи подвальных помещений на вторичном рынке г. Киева (за 1 кв.м)",bccd=document.getElementById("buttc_cd"),bcce=document.getElementById("buttc_ce"),bcch=document.getElementById("buttc_ch"),bcod=document.getElementById("buttc_od"),bcoe=document.getElementById("buttc_oe"),bcoh=document.getElementById("buttc_oh"),bctd=document.getElementById("buttc_td"),bcte=document.getElementById("buttc_te"),bcth=document.getElementById("buttc_th"),bcbd=document.getElementById("buttc_bd"),bcbe=document.getElementById("buttc_be"),bcbh=document.getElementById("buttc_bh");bccd.onclick=DrawWithCurrencyC,bcce.onclick=DrawWithCurrencyC,bcch.onclick=DrawWithCurrencyC,bcod.onclick=DrawWithCurrencyO,bcoe.onclick=DrawWithCurrencyO,bcoh.onclick=DrawWithCurrencyO,bctd.onclick=DrawWithCurrencyT,bcte.onclick=DrawWithCurrencyT,bcth.onclick=DrawWithCurrencyT,bcbd.onclick=DrawWithCurrencyB,bcbe.onclick=DrawWithCurrencyB,bcbh.onclick=DrawWithCurrencyB,google.charts.setOnLoadCallback(initialize_data);