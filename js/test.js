/*! PILab 30-08-2017 (c) 2017 propertyindicators@gmail.com */

function initialize_base_common(){var a=["RegDate","D_C","D_NC","D_EV","D_P","H_C","H_NC","H_EV","H_P","E_C","E_NC","E_EV","E_P"];GET_DT_FROM_FILE=!0,GET_DTAsync("comsalecommonAll",a,function(b){init_common(b),GET_DTAsync("comsalecommon5Y",a,function(a){var b=clonetab(a);gdataC_D_5Y=b.D,gdataC_H_5Y=b.H,gdataC_E_5Y=b.E}),GET_DTAsync("comsalecommon3Y",a,function(a){var b=clonetab(a);gdataC_D_3Y=b.D,gdataC_H_3Y=b.H,gdataC_E_3Y=b.E})})}function init_common(a){dateminC=a.getColumnRange(0).min,datemaxC=a.getColumnRange(0).max;var b=clonetab(a);gdataC_D_All=b.D,gdataC_H_All=b.H,gdataC_E_All=b.E,gdataC_D_work=gdataC_D_All,gdataC_H_work=gdataC_H_All,gdataC_E_work=gdataC_E_All,goptionsC={title:tct("dyncomsale","nonresidential"),vAxis:{minValue:0,format:"$#"},legend:{position:"bottom"},series:{0:{color:"#0000FF"},1:{color:"#FF8C00"},2:{color:"#FF0000"},3:{color:"#006400"}},animation:{duration:1e3,easing:"linear",startup:!0},hAxis:{viewWindow:{min:dateminC,max:datemaxC}},chartArea:{left:"5%",width:"90%"}},gdataC_mainwork=gdataC_D_work,gchartC=new google.visualization.AreaChart(document.getElementById("chart_div1")),drawChartC()}function drawChartC(){gchartC.draw(gdataC_mainwork,goptionsC)}function drawWithSetC(a){gdataC_mainwork=a.Dtab,goptionsC.hAxis.viewWindow.min=a.MinD;var b=goptionsC.animation.duration;goptionsC.animation.duration=a.Dur,drawChartC(),goptionsC.animation.duration=b}function perbutfun_C(){var a=$(this).attr("id"),b=+a.substring(7,8);if(gdataC_perpress!==b){var c={};if(1!==b||$.isEmptyObject(gdataC_D_All)||(gdataC_D_work=gdataC_D_All,gdataC_H_work=gdataC_H_All,gdataC_E_work=gdataC_E_All),2!==b||$.isEmptyObject(gdataC_D_5Y)||(gdataC_D_work=gdataC_D_5Y,gdataC_H_work=gdataC_H_5Y,gdataC_E_work=gdataC_E_5Y),b>2&&!$.isEmptyObject(gdataC_D_3Y)&&(gdataC_D_work=gdataC_D_3Y,gdataC_H_work=gdataC_H_3Y,gdataC_E_work=gdataC_E_3Y),gdataC_perpress>2&&b>2)c=new Date(datemaxC),c.setMonth(-1*miar[b-1]),goptionsC.hAxis.viewWindow.min=c,drawChartC();else if(b>gdataC_perpress){1===b?c=new Date(dateminC):(c=new Date(datemaxC),c.setMonth(-1*miar[b-1])),goptionsC.hAxis.viewWindow.min=c;var d={};"d"===gdataC_curpress&&(d=gdataC_D_work),"h"===gdataC_curpress&&(d=gdataC_H_work),"e"===gdataC_curpress&&(d=gdataC_E_work),drawChartC(),setTimeout(drawWithSetC,1e3,{Dtab:d,MinD:c,Dur:500})}else"d"===gdataC_curpress&&(gdataC_mainwork=gdataC_D_work),"h"===gdataC_curpress&&(gdataC_mainwork=gdataC_H_work),"e"===gdataC_curpress&&(gdataC_mainwork=gdataC_E_work),1===b?c=new Date(dateminC):(c=new Date(datemaxC),c.setMonth(-1*miar[b-1])),goptionsC.animation.duration=500,drawChartC(),goptionsC.animation.duration=1e3,setTimeout(drawWithSetC,500,{Dtab:gdataC_mainwork,MinD:c,Dur:1e3});gdataC_perpress=b}}function curbutfun_C(){var a=$(this).attr("id"),b=a.substring(7,8);b!==gdataC_curpress&&("d"===b&&(gdataC_mainwork=gdataC_D_work,goptionsC.vAxis.format="$#",goptionsC.vAxis.minValue=0),"h"===b&&(gdataC_mainwork=gdataC_H_work,goptionsC.vAxis.format="₴#",goptionsC.vAxis.minValue=0),"e"===b&&(gdataC_mainwork=gdataC_E_work,goptionsC.vAxis.format="€#",goptionsC.vAxis.minValue=0),drawChartC(),gdataC_curpress=b)}function clonetab(a){var b=a.toJSON(),c=JSON.parse(b),d=[0,2,3,4,5],e=[0,7,8,9,10],f=[0,12,13,14,15],g=[{id:"col0",label:"RegDate",type:"date"},{id:"col1",label:tcz("center"),type:"number"},{id:"col2",label:tcz("nearcenter"),type:"number"},{id:"col3",label:tcz("midcenter"),type:"number"},{id:"col4",label:tcz("periphery"),type:"number"}],h={cols:g},i={cols:g},j={cols:g},k=[],l=[],m=[];for(ii=0;ii<c.rows.length;ii++)k.push({c:[{v:c.rows[ii].c[d[0]].v},{v:c.rows[ii].c[d[1]].v},{v:c.rows[ii].c[d[2]].v},{v:c.rows[ii].c[d[3]].v},{v:c.rows[ii].c[d[4]].v}]}),l.push({c:[{v:c.rows[ii].c[e[0]].v},{v:c.rows[ii].c[e[1]].v},{v:c.rows[ii].c[e[2]].v},{v:c.rows[ii].c[e[3]].v},{v:c.rows[ii].c[e[4]].v}]}),m.push({c:[{v:c.rows[ii].c[f[0]].v},{v:c.rows[ii].c[f[1]].v},{v:c.rows[ii].c[f[2]].v},{v:c.rows[ii].c[f[3]].v},{v:c.rows[ii].c[f[4]].v}]});return h.rows=k,i.rows=l,j.rows=m,{D:new google.visualization.DataTable(h),H:new google.visualization.DataTable(i),E:new google.visualization.DataTable(j)}}google.charts.load("visualization","1",{packages:["corechart"]}),google.charts.setOnLoadCallback(initialize_base_common);var gdataC_D_All={},gdataC_H_All={},gdataC_E_All={},gdataC_D_5Y={},gdataC_H_5Y={},gdataC_E_5Y={},gdataC_D_3Y={},gdataC_H_3Y={},gdataC_E_3Y={},gdataC_D_work={},gdataC_E_work={},gdataC_H_work={},gdataC_mainwork={},gdataC_curpress="d",gdataC_perpress=1,goptionsC={},dateminC={},datemaxC={},bpc1=document.getElementById("buttp_c1"),bpc2=document.getElementById("buttp_c2"),bpc3=document.getElementById("buttp_c3"),bpc4=document.getElementById("buttp_c4"),bpc5=document.getElementById("buttp_c5"),bpc6=document.getElementById("buttp_c6"),bpc7=document.getElementById("buttp_c7");bpc1.onclick=perbutfun_C,bpc2.onclick=perbutfun_C,bpc3.onclick=perbutfun_C,bpc4.onclick=perbutfun_C,bpc5.onclick=perbutfun_C,bpc6.onclick=perbutfun_C,bpc7.onclick=perbutfun_C;var bccd=document.getElementById("buttc_cd"),bcce=document.getElementById("buttc_ce"),bcch=document.getElementById("buttc_ch");bccd.onclick=curbutfun_C,bcch.onclick=curbutfun_C,bcce.onclick=curbutfun_C;var miar=[0,60,36,24,12,6,3];